(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[18],{387:function(e,t,a){},404:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(121),c=a(1),i=a.n(c),l=a(62),o=a(29),m=a(429),u=a(430),d=a(432),s=a(140),f=a(433),b=a(431),h=a(425),p=a(134),E=a.n(p),g=a(279),O=a(435),v=a(436),j=a(414),y=(a(387),a(0)),S=a.n(y),_=a(4),w=a(31),C=a(271),T=a(395),P=a(427),k=a(415),I=a(41),R=a(42),x=a.n(R),L=function(e){var t=e.onFinish,a=e.form,n=e.idEdit,l=u.a.TextArea,d=C.a.Option,f=Object(o.useDispatch)(),b=Object(o.useSelector)((function(e){return e.ecommerceReducer})).ecommercelist,h=Object(c.useState)(!1),p=Object(r.a)(h,2),E=(p[0],p[1],Object(c.useState)(!1)),g=Object(r.a)(E,2),O=(g[0],g[1],Object(c.useState)([])),v=Object(r.a)(O,2),j=v[0],y=v[1];console.log(j),Object(c.useEffect)((function(){f(Object(I.e)())}),[]);var R=Object(c.useState)(!1),L=Object(r.a)(R,2),A=(L[0],L[1],Object(c.useState)("")),F=Object(r.a)(A,2);F[0],F[1];Object(c.useEffect)((function(){if(n){var e=a.getFieldValue("image");y(e),console.log(e)}}),[a,n]);var D=function(){var e=Object(_.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var a=new FileReader;a.readAsDataURL(t.originFileObj),a.onload=function(){return e(a.result)}}));case 4:a=e.sent;case 5:(n=new Image).src=a,window.open(a).document.write(n.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",null,i.a.createElement(m.a,{className:"ecommerce-form",validateMessages:{required:"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !",types:{string:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !",number:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"},string:{max:"${label} t\u1ed1i \u0111a 255 k\xfd t\u1ef1 !"},number:{range:"${label} trong kho\u1ea3ng 1-100 !"},pattern:{mismatch:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"}},onFinish:t,form:a},n&&i.a.createElement(m.a.Item,{name:"id",hidden:!0},i.a.createElement(u.a,null)),i.a.createElement(m.a.Item,{name:"name",label:"T\xean",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"}},i.a.createElement(u.a,{placeholder:"V\xed d\u1ee5: Eplaza"})),i.a.createElement(m.a.Item,{name:"des",label:"Description",required:!0,rules:[{required:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"}},i.a.createElement(l,null)),i.a.createElement(m.a.Item,{name:"ecommerce_id",label:"EcommerceId",required:!0,rules:[{required:!0}],style:{width:"50%",paddingRight:"10px"}},i.a.createElement(C.a,{showSearch:!0,style:{width:200},placeholder:"EcommerceId",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},b.map((function(e,t){return i.a.createElement(d,{key:t,value:e.id},e.name)})))),i.a.createElement(m.a.Item,{name:"image_url",label:"\u1ea2nh tin t\u1ee9c",valuePropName:"file",getValueFromEvent:function(e){return e&&e.file},style:{width:"50%",paddingRight:"10px"}},i.a.createElement(P.a,{listType:"picture-card",name:"files",beforeUpload:function(e){return y([].concat(Object(w.a)(j),[e])),!1},fileList:j,onChange:function(e){var t=e.fileList;y(t)},onPreview:D},"+ Upload"),i.a.createElement("br",null),i.a.createElement(s.a,{icon:i.a.createElement(k.a,null),disabled:0==j,onClick:function(){var e=new FormData;j.forEach((function(t){e.append("files",new Blob([t]),t.name)})),x.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/deploy-github",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_TITLE:"System"}).REACT_APP_API_URL,"/upload/upload-array"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log("cc",e)," "!==e.data.url&&"UPLOAD_SUCCESS"==e.data.message?(a.setFieldsValue({image:e.data.url}),T.b.success("upload th\xe0nh c\xf4ng")):T.b.error("M\u1eddi th\xeam d\u1eef li\u1ec7u")})).catch((function(e){a.setFieldsValue({image:" "}),T.b.error("upload th\u1ea5t b\u1ea1i",e)}))}},"Upload")),i.a.createElement(m.a.Item,{name:"image",hidden:!0},i.a.createElement(u.a,null)),i.a.createElement(m.a.Item,{style:{width:"90%"}}),i.a.createElement(m.a.Item,{className:"button"},i.a.createElement(s.a,{htmlType:"submit",type:"primary"},"L\u01b0u l\u1ea1i"))))};t.default=function(){var e=Object(o.useSelector)((function(e){return e.brandReducer})),t=e.brandlist,a=e.loadingbrand;console.log(t);var p=Object(o.useDispatch)();Object(c.useEffect)((function(){p(Object(l.d)())}),[p]);var y=Object(c.useState)(""),S=Object(r.a)(y,2),_=S[0],w=S[1],C=Object(c.useState)(""),T=Object(r.a)(C,2),P=T[0],k=T[1],I=Object(c.useState)(!1),R=Object(r.a)(I,2),x=R[0],A=R[1],F=Object(c.useState)(!1),D=Object(r.a)(F,2),N=D[0],V=D[1],U=Object(c.useState)(0),K=Object(r.a)(U,2),B=K[0],H=K[1],z=m.a.useForm(),q=Object(r.a)(z,1)[0],W=m.a.useForm(),M=Object(r.a)(W,1)[0],$=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,n=t.selectedKeys,r=t.confirm,c=t.clearFilters;return i.a.createElement("div",{style:{padding:12}},i.a.createElement(u.a,{placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return J(n,r,e)},style:{marginBottom:8,display:"block"}}),i.a.createElement(d.b,null,i.a.createElement(s.a,{type:"primary",onClick:function(){return J(n,r,e)},icon:i.a.createElement(g.a,null),size:"small",style:{width:90}},"Search"),i.a.createElement(s.a,{onClick:function(){return X(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return i.a.createElement(g.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},render:function(t){return P===e?i.a.createElement(E.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[_],autoEscape:!0,textToHighlight:t?t.toString():""}):"ecommerce"===e?null===t||void 0===t?void 0:t.name:t}}},J=function(e,t,a){t(),w(e[0]),k(a)},X=function(e){e(),w("")},G=[Object(n.a)({title:"Name",dataIndex:"name",key:"Name",width:"20%"},$("name")),{title:"Image",dataIndex:"image_url",key:"image_url",width:"5%",render:function(e){return i.a.createElement("img",{src:(t=e,null===t?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"/deploy-github",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_TITLE:"System"}).REACT_APP_API_URL+t[0].url),style:{width:"100%",height:"100%"},alt:""});var t}},Object(n.a)({title:"Description",dataIndex:"des",key:"des",width:"20%"},$("des")),Object(n.a)({title:"EcommerceId",dataIndex:"ecommerce",key:"ecommerce",width:"20%",sorter:function(e,t){return e.ecommerce-t.ecommerce},sortDirections:["descend","ascend"]},$("ecommerce")),{key:"Action",title:i.a.createElement(O.a,{onClick:function(){return p(Object(l.d)())}}),align:"center",width:"10%",render:function(e,t,a){return i.a.createElement(d.b,{size:"middle"},i.a.createElement(v.a,{style:{color:"blue"},onClick:function(){return Q(t)}}),i.a.createElement(f.a,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(t.name," ?"),onConfirm:function(){return Y(t.id)},okText:"X\xf3a",cancelText:"H\u1ee7y"},i.a.createElement(j.a,{style:{color:"red"}})))}}],Q=Object(c.useCallback)((function(e){var t={id:e.id,name:e.name,des:e.des,ecommerce_id:e.ecommerce.id,image:e.image_url};M.setFieldsValue(t),H(e.id),V(!0)}),[M]),Y=function(e){p(Object(l.b)(e))};return i.a.createElement("div",null,i.a.createElement("div",{className:"addecommerce"},i.a.createElement(s.a,{type:"primary",onClick:function(){return A(!0)}},"Th\xeam Brand")),i.a.createElement("br",null),i.a.createElement(b.a,{className:"modal-add",title:"Th\xeam Brand",visible:x,footer:"",centered:!0,onCancel:function(){return A(!1)}},i.a.createElement(L,{onFinish:function(e){var t={name:e.name,des:e.des,ecommerce_id:e.ecommerce_id,image_url:e.image};p(Object(l.a)(t)),A(!1),q.resetFields(),console.log(t)},form:q})),i.a.createElement(b.a,{className:"modal-edit",title:"S\u1eeda Brand",visible:N,onCancel:function(){return V(!1)},centered:!0,footer:""},i.a.createElement(L,{onFinish:function(e){var t={id:e.id,name:e.name,description:e.des,ecommerce_id:e.ecommerce_id,image_url:e.image};p(Object(l.c)(t)),V(!1),q.resetFields(),console.log(t)},form:M,idEdit:B})),i.a.createElement(h.a,{scroll:{x:900},pagination:{defaultCurrent:30,defaultPageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,30,50,100]},loading:a,columns:G,dataSource:t,rowKey:function(e){return e.id},bordered:!0}))}},415:function(e,t,a){"use strict";var n=a(28),r=a(1),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},i=a(112),l=function(e,t){return r.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:c}))};l.displayName="UploadOutlined";t.a=r.forwardRef(l)}}]);
//# sourceMappingURL=18.953046ba.chunk.js.map