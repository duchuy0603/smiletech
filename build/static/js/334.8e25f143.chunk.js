"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[334],{4334:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(1413),i=n(9439),a=n(2791),l=n(4724),o=n(364),s=n(9930),c=n(2425),d=n(3099),u=n(7309),m=n(8183),h=n(7545),g=n(174),p=n(6263),f=n.n(p),x=n(1730),Z=n(4057),j=n(1752),y=n(2622),w=n(2949),v=n(3695),b=n(5064),C=n(7106),S=n(9286),k=(n(7705),n(4569),n(281)),I=n(184),q=function(e){var t=e.onFinish,n=e.form,l=e.idEdit,d=w.Z.Option,m=(0,o.useSelector)((function(e){return e.ecommerceReducer})).ecommercelist,h=(0,o.useDispatch)(),g=c.Z.TextArea,p=(0,a.useState)(!1),f=(0,i.Z)(p,2),x=f[0],Z=f[1],j=(0,a.useState)([]),y=(0,i.Z)(j,2),q=(y[0],y[1],(0,a.useState)("")),F=(0,i.Z)(q,2),E=F[0],T=F[1];(0,a.useEffect)((function(){if(l){var e=n.getFieldValue("image");T(e),console.log(e)}h((0,k.A4)())}),[n,l]);var P={name:"file",maxCount:1,action:"".concat("http://103.9.159.151:22297","/upload/upload-single "),headers:{Authorization:"Bearer "},onSuccess:function(e){console.log(e),e.success?(n.setFieldsValue({image:e.url}),T(e.url),v.ZP.success("T\u1ea3i \u1ea3nh l\xean th\xe0nh c\xf4ng !")):(n.setFieldsValue({image:""}),T(""),"File too large"===e.error.message&&v.ZP.error("Dung l\u01b0\u1ee3ng \u1ea3nh kh\xf4ng qu\xe1 5mb !"),"Images Only!"===e.error.message?v.ZP.error("Ch\u1ec9 t\u1ea3i l\xean \u0111\u1ecbnh d\u1ea1ng \u1ea3nh .jpg, .png, .jpeg !"):v.ZP.error("T\u1ea3i \u1ea3nh l\xean th\u1ea5t b\u1ea1i ! H\xe3y th\u1eed l\u1ea1i !")),Z(!1)},onError:function(){n.setFieldsValue({image:""}),T(""),v.ZP.error("T\u1ea3i \u1ea3nh l\xean th\u1ea5t b\u1ea1i ! H\xe3y th\u1eed l\u1ea1i"),Z(!1)}};return(0,I.jsx)("div",{children:(0,I.jsxs)(s.Z,{className:"ecommerce-form",onFinish:t,validateMessages:{required:"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !",types:{string:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !",number:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"},string:{max:"${label} t\u1ed1i \u0111a 255 k\xfd t\u1ef1 !"},number:{range:"${label} trong kho\u1ea3ng 1-100 !"},pattern:{mismatch:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"}},form:n,children:[l&&(0,I.jsx)(s.Z.Item,{name:"id",hidden:!0,children:(0,I.jsx)(c.Z,{})}),(0,I.jsx)(s.Z.Item,{name:"name",label:"T\xean",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(c.Z,{placeholder:"V\xed d\u1ee5: Eplaza"})}),(0,I.jsx)(s.Z.Item,{name:"email",label:"Email",required:!0,rules:[{required:!0},{type:"email",message:"kh\xf4ng ph\u1ea3i l\xe0 Email"},{max:255}],style:{width:"50%"},children:(0,I.jsx)(c.Z,{placeholder:"V\xed d\u1ee5: Eplaza@gmail.com"})}),(0,I.jsx)(s.Z.Item,{name:"phone",label:"Phone",required:!0,rules:[{required:!0},{pattern:/((09|03|07|08|05)+([0-9]{8})\b)/g}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(c.Z,{style:{width:"100%"},placeholder:"V\xed d\u1ee5: 0902174492"})}),(0,I.jsx)(s.Z.Item,{name:"status",label:"Status",required:!0,rules:[{required:!0}],style:{width:"50%"},children:(0,I.jsxs)(w.Z,{showSearch:!0,style:{width:"100%"},placeholder:"Status",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:[(0,I.jsx)(d,{value:1,children:"Ho\u1ea1t \u0110\u1ed9ng"}),(0,I.jsx)(d,{value:0,children:"T\u1ea1m D\u1eebng"})]})}),(0,I.jsx)(s.Z.Item,{name:"description",label:"Description",required:!0,rules:[{required:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(g,{})}),(0,I.jsx)(s.Z.Item,{name:"ecommerce_id",label:"EcommerceId",required:!0,rules:[{required:!0}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(w.Z,{showSearch:!0,style:{width:"100%"},placeholder:"EcommerceId",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:m.map((function(e,t){return(0,I.jsx)(d,{value:e.id,children:e.name})}))})}),(0,I.jsx)(s.Z.Item,{name:"new_img",label:"\u1ea2nh tin t\u1ee9c",valuePropName:"file",getValueFromEvent:function(e){return e&&e.file},style:{width:"50%"},children:(0,I.jsx)(b.Z,(0,r.Z)((0,r.Z)({},P),{},{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,onChange:function(e){"uploading"===e.file.status&&Z(!0)},children:E?(0,I.jsx)("img",{src:"".concat("http://103.9.159.151:22297","/").concat(E),alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,I.jsxs)("div",{children:[x?(0,I.jsx)(C.Z,{}):(0,I.jsx)(S.Z,{}),(0,I.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}))}),(0,I.jsx)(s.Z.Item,{name:"image",hidden:!0,children:(0,I.jsx)(c.Z,{})}),(0,I.jsx)(s.Z.Item,{style:{width:"90%"}}),(0,I.jsx)(s.Z.Item,{className:"button",children:(0,I.jsx)(u.Z,{htmlType:"submit",type:"primary",children:"L\u01b0u l\u1ea1i"})})]})})},F=function(){var e=(0,o.useSelector)((function(e){return e.teamReducer})),t=e.teamlist,n=e.loadingteam;console.log(t);var p=(0,o.useDispatch)();(0,a.useEffect)((function(){p((0,l.f9)())}),[p]);var w=(0,a.useState)(""),v=(0,i.Z)(w,2),b=v[0],C=v[1],S=(0,a.useState)(""),k=(0,i.Z)(S,2),F=k[0],E=k[1],T=(0,a.useState)(!1),P=(0,i.Z)(T,2),L=P[0],N=P[1],z=(0,a.useState)(!1),V=(0,i.Z)(z,2),D=V[0],O=V[1],R=s.Z.useForm(),_=(0,i.Z)(R,1)[0],H=s.Z.useForm(),A=(0,i.Z)(H,1)[0],$=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,a=t.clearFilters;return(0,I.jsxs)("div",{style:{padding:12},children:[(0,I.jsx)(c.Z,{placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return B(r,i,e)},style:{marginBottom:8,display:"block"}}),(0,I.jsxs)(d.Z,{children:[(0,I.jsx)(u.Z,{type:"primary",onClick:function(){return B(r,i,e)},icon:(0,I.jsx)(x.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,I.jsx)(u.Z,{onClick:function(){return K(a)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return(0,I.jsx)(x.Z,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},render:function(t){return F===e?(0,I.jsx)(f(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[b],autoEscape:!0,textToHighlight:t?t.toString():""}):"ecommerce"===e?null===t||void 0===t?void 0:t.name:t}}},B=function(e,t,n){t(),C(e[0]),E(n)},K=function(e){e(),C("")},M=[(0,r.Z)({title:"Name",dataIndex:"name",key:"name",width:"20%"},$("name")),{title:"Image",dataIndex:"image_url",key:"Image",width:"10%",render:function(e){return(0,I.jsx)("img",{src:"".concat("http://103.9.159.151:22297","/").concat(e),style:{width:"100%",height:"40%"},alt:""})}},(0,r.Z)({title:"Phone",dataIndex:"phone",key:"Phone",width:"20%",sorter:function(e,t){return e.phone-t.phone},sortDirections:["descend","ascend"]},$("phone")),(0,r.Z)({title:"Email",dataIndex:"email",key:"email",width:"20%"},$("email")),(0,r.Z)({title:"EcommerceId",dataIndex:"ecommerce",key:"ecommerce",width:"20%"},$("ecommerce")),(0,r.Z)({title:"Description",dataIndex:"des",key:"des",width:"20%"},$("des")),{key:"Action",title:(0,I.jsx)(Z.Z,{onClick:function(){return p((0,l.f9)())}}),align:"center",width:"10%",render:function(e,t,n){return(0,I.jsxs)(d.Z,{size:"middle",children:[(0,I.jsx)(j.Z,{style:{color:"blue"},onClick:function(){return U(t)}}),(0,I.jsx)(m.Z,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(t.Name," ?"),onConfirm:function(){return W(t.Id)},okText:"X\xf3a",cancelText:"H\u1ee7y",children:(0,I.jsx)(y.Z,{style:{color:"red"}})})]})}}],U=function(e){var t={id:e.Id,name:e.Name,email:e.Email,phone:e.Phone,status:e.Status,description:e.Description,image:"".concat("http://103.9.159.151:22297","/").concat(e.ImageUrl," ")};A.setFieldsValue(t),O(!0)},W=function(e){p((0,l.Ak)(e))};return(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:"addecommerce",children:(0,I.jsx)(u.Z,{type:"primary",onClick:function(){return N(!0)},children:"Th\xeam Team"})}),(0,I.jsx)("br",{}),(0,I.jsx)(h.Z,{className:"modal-add",title:"Th\xeam Team",visible:L,footer:"",centered:!0,onCancel:function(){return N(!1)},children:(0,I.jsx)(q,{onFinish:function(e){var t={name:e.name,email:e.email,phone:e.phone,des:e.description,image_url:e.image,ecommerce_id:e.ecommerce_id};console.log(e.files),console.log(e),p((0,l.L2)(t)),N(!1),_.resetFields()},form:_})}),(0,I.jsx)(h.Z,{className:"modal-edit",title:"S\u1eeda Team",visible:D,onCancel:function(){return O(!1)},centered:!0,footer:"",children:(0,I.jsx)(q,{onFinish:function(e){var t={id:e.id,name:e.name,email:e.email,phone:e.phone,des:e.description,image_url:e.image,ecommerce_id:e.ecommerce_id};p((0,l.rh)(t)),O(!1),console.log(t)},form:A,idEdit:!0})}),(0,I.jsx)(g.Z,{scroll:{x:900},loading:n,columns:M,dataSource:t,rowKey:function(e){return e.id},bordered:!0,pagination:{defaultCurrent:30,defaultPageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,30,50,100]}})]})}},9286:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1413),i=n(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=n(4291),o=function(e,t){return i.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};o.displayName="PlusOutlined";var s=i.forwardRef(o)}}]);
//# sourceMappingURL=334.8e25f143.chunk.js.map