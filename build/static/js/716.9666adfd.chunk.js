"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[716],{9716:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var i=n(1413),r=n(9439),l=n(2791),o=n(3590),a=n(364),c=n(9930),s=n(2425),d=n(3099),u=n(7309),m=n(8183),h=n(7545),f=n(174),p=n(6263),g=n.n(p),x=n(1730),Z=n(4057),j=n(1752),y=n(2622),v=n(5064),w=n(2949),b=n(3695),S=n(6776),k=n(281),I=(n(4569),n(4354)),C=n(184),F=function(e){var t=e.onFinish,n=e.form,o=e.idEdit,d=(0,I.nk)(),m=s.Z.TextArea,h=v.Z.Dragger,f=w.Z.Option,p=(0,a.useDispatch)(),g=(0,a.useSelector)((function(e){return e.ecommerceReducer})).ecommercelist,x=(0,l.useState)(!1),Z=(0,r.Z)(x,2),j=(Z[0],Z[1],(0,l.useState)(!1)),y=(0,r.Z)(j,2);y[0],y[1];(0,l.useEffect)((function(){p((0,k.A4)())}),[]);var F=(0,l.useState)(!1),E=(0,r.Z)(F,2),N=(E[0],E[1],(0,l.useState)([])),L=(0,r.Z)(N,2),T=(L[0],L[1],(0,l.useState)([])),V=(0,r.Z)(T,2),z=(V[0],V[1]);(0,l.useEffect)((function(){if(o){var e=n.getFieldValue("image");z(e),console.log(e)}}),[n,o]);var R={name:"files",multiple:!0,action:"".concat("http://103.9.159.151:22297","/upload/upload-array"),onChange:function(e){var t=e.file.status;if("uploading"!==t&&console.log(e.file,e.fileList),"done"===t){var i=e.fileList.map((function(e){return encodeURI(e.name)}));console.log(i),n.setFieldsValue({image:i}),z(e.list),b.ZP.success("".concat(e.file.name," file uploaded successfully."))}else"error"===t&&(n.setFieldsValue({image:""}),z(""),b.ZP.error("".concat(e.file.name," file upload failed.")))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,C.jsx)("div",{children:(0,C.jsxs)(c.Z,{className:"ecommerce-form",validateMessages:{required:"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !",types:{string:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !",number:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"},string:{max:"${label} t\u1ed1i \u0111a 255 k\xfd t\u1ef1 !"},number:{range:"${label} trong kho\u1ea3ng 1-100 !"},pattern:{mismatch:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"}},onFinish:t,form:n,method:"POST",encType:"multipart/form-data",children:[o&&(0,C.jsx)(c.Z.Item,{name:"id",hidden:!0,children:(0,C.jsx)(s.Z,{})}),(0,C.jsx)(c.Z.Item,{name:"name",label:"T\xean",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,C.jsx)(s.Z,{placeholder:"V\xed d\u1ee5: Eplaza"})}),(0,C.jsx)(c.Z.Item,{name:"content",label:"content",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,C.jsx)(s.Z,{placeholder:"V\xed d\u1ee5: Eplaza"})}),(0,C.jsx)(c.Z.Item,{name:"description",label:"Description",required:!0,rules:[{required:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,C.jsx)(m,{})}),2==d.ecommerce_id?null:(0,C.jsx)(c.Z.Item,{name:"ecommerceId",label:"EcommerceId",required:!0,rules:[{required:!0}],style:{width:"50%",paddingRight:"10px"},children:(0,C.jsx)(w.Z,{showSearch:!0,style:{width:200},placeholder:"EcommerceId",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:g.map((function(e,t){return(0,C.jsx)(f,{value:e.id,children:e.name},t)}))})}),(0,C.jsxs)(c.Z.Item,{name:"new_img",label:"\u1ea2nh tin t\u1ee9c",valuePropName:"file",getValueFromEvent:function(e){return e&&e.file},style:{width:"50%"},children:[(0,C.jsxs)(h,(0,i.Z)((0,i.Z)({},R),{},{children:[(0,C.jsx)("p",{className:"ant-upload-drag-icon",children:(0,C.jsx)(S.Z,{})}),(0,C.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,C.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]})),","]}),(0,C.jsx)(c.Z.Item,{name:"image",hidden:!0,children:(0,C.jsx)(s.Z,{})}),(0,C.jsx)(c.Z.Item,{style:{width:"90%"}}),(0,C.jsx)(c.Z.Item,{className:"button",children:(0,C.jsx)(u.Z,{htmlType:"submit",type:"primary",children:"L\u01b0u l\u1ea1i"})})]})})},E=function(){var e=(0,a.useSelector)((function(e){return e.newReducer})),t=e.newlist,n=e.loadingnew,p=((0,I.nk)(),(0,a.useDispatch)());(0,l.useEffect)((function(){p((0,o.X5)())}),[p]);var v=(0,l.useState)(""),w=(0,r.Z)(v,2),b=w[0],S=w[1],k=(0,l.useState)(""),E=(0,r.Z)(k,2),N=E[0],L=E[1],T=(0,l.useState)(!1),V=(0,r.Z)(T,2),z=V[0],R=V[1],q=(0,l.useState)(!1),D=(0,r.Z)(q,2),P=D[0],_=D[1],O=(0,l.useState)(0),H=(0,r.Z)(O,2),$=H[0],K=H[1],A=c.Z.useForm(),B=(0,r.Z)(A,1)[0],X=c.Z.useForm(),M=(0,r.Z)(X,1)[0],U=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,i=t.selectedKeys,r=t.confirm,l=t.clearFilters;return(0,C.jsxs)("div",{style:{padding:12},children:[(0,C.jsx)(s.Z,{placeholder:"Search ".concat(e),value:i[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return W(i,r,e)},style:{marginBottom:8,display:"block"}}),(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(u.Z,{type:"primary",onClick:function(){return W(i,r,e)},icon:(0,C.jsx)(x.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,C.jsx)(u.Z,{onClick:function(){return G(l)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return(0,C.jsx)(x.Z,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},render:function(t){return N===e?(0,C.jsx)(g(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[b],autoEscape:!0,textToHighlight:t?t.toString():""}):"ecommerce"===e?null===t||void 0===t?void 0:t.name:t}}},W=function(e,t,n){t(),S(e[0]),L(n)},G=function(e){e(),S("")},J=[(0,i.Z)({title:"Name",dataIndex:"name",key:"name",width:"20%"},U("name")),(0,i.Z)({title:"Content",dataIndex:"content",key:"content",width:"20%"},U("content")),{title:"Image",dataIndex:"image_url",key:"image_url",width:"5%",render:function(e){return(0,C.jsx)("img",{src:(t=e,null===t?void 0:"http://103.9.159.151:22297"+t[0].url),style:{width:"100%",height:"100%"},alt:""});var t}},(0,i.Z)({title:"Description",dataIndex:"des",key:"des",width:"20%"},U("des")),(0,i.Z)({title:"EcommerceId",dataIndex:"ecommerce",key:"ecommerce",width:"20%",sorter:function(e,t){return e.ecommerce-t.ecommerce},sortDirections:["descend","ascend"]},U("ecommerce")),{key:"Action",title:(0,C.jsx)(Z.Z,{onClick:function(){return p((0,o.X5)())}}),align:"center",width:"10%",render:function(e,t,n){return(0,C.jsxs)(d.Z,{size:"middle",children:[(0,C.jsx)(j.Z,{style:{color:"blue"},onClick:function(){return Q(t)}}),(0,C.jsx)(m.Z,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(t.name," ?"),onConfirm:function(){return Y(t.id)},okText:"X\xf3a",cancelText:"H\u1ee7y",children:(0,C.jsx)(y.Z,{style:{color:"red"}})})]})}}],Q=(0,l.useCallback)((function(e){var t,n={id:e.id,name:e.name,content:e.content,description:e.des,ecommerceId:null===(t=e.ecommerce)||void 0===t?void 0:t.id,image:e.image_url};M.setFieldsValue(n),K(e.id),_(!0)}),[M]),Y=function(e){p((0,o.Pg)(e))};return(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"addecommerce",children:(0,C.jsx)(u.Z,{type:"primary",onClick:function(){return R(!0)},children:"Th\xeam New"})}),(0,C.jsx)("br",{}),(0,C.jsx)(h.Z,{className:"modal-add",title:"Th\xeam New",visible:z,footer:"",centered:!0,onCancel:function(){return R(!1)},children:(0,C.jsx)(F,{onFinish:function(e){var t={name:e.name,content:e.content,des:e.description,ecommerce_id:e.ecommerceId,image_url:e.image};p((0,o.iv)(t)),R(!1),B.resetFields(),console.log(t)},form:B})}),(0,C.jsx)(h.Z,{className:"modal-edit",title:"S\u1eeda New",visible:P,onCancel:function(){return _(!1)},centered:!0,footer:"",children:(0,C.jsx)(F,{onFinish:function(e){var t={id:e.id,name:e.name,content:e.content,des:e.description,ecommerce_id:e.ecommerceId,image_url:e.image};p((0,o.vO)(t)),_(!1),B.resetFields(),console.log(t)},form:M,idEdit:$})}),(0,C.jsx)(f.Z,{scroll:{x:900},pagination:{defaultCurrent:30,defaultPageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,30,50,100]},loading:n,columns:J,dataSource:t,rowKey:function(e){return e.id},bordered:!0})]})}},6776:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(1413),r=n(2791),l={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},o=n(4291),a=function(e,t){return r.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:l}))};a.displayName="InboxOutlined";var c=r.forwardRef(a)}}]);
//# sourceMappingURL=716.9666adfd.chunk.js.map