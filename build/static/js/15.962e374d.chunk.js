(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[15,31],{171:function(e,t,a){"use strict";a(0),a(4),a(21),a(22),a(43);a(5),a(121),a(31);var n=a(1);n.createContext(null);"undefined"!==typeof window&&window.HTMLElement},224:function(e,t,a){"use strict";var n=a(28),r=a(1),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},c=a(112),i=function(e,t){return r.createElement(c.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:l}))};i.displayName="PlusOutlined";t.a=r.forwardRef(i)},261:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(121),l=a(1),c=a.n(l),i=a(41),o=a(29),s=a(429),d=a(430),m=a(432),u=a(140),h=a(433),g=a(431),p=a(6),b=a(39),E=a(109),f=a.n(E),O=a(169),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},j=function(e){return l.createElement(O.a,null,(function(t){var a,n=t.getPrefixCls,r=t.direction,c=e.prefixCls,i=e.type,o=void 0===i?"horizontal":i,s=e.orientation,d=void 0===s?"center":s,m=e.className,u=e.children,h=e.dashed,g=e.plain,E=y(e,["prefixCls","type","orientation","className","children","dashed","plain"]),O=n("divider",c),j=d.length>0?"-".concat(d):d,S=!!u,v=f()(O,"".concat(O,"-").concat(o),(a={},Object(b.a)(a,"".concat(O,"-with-text"),S),Object(b.a)(a,"".concat(O,"-with-text").concat(j),S),Object(b.a)(a,"".concat(O,"-dashed"),!!h),Object(b.a)(a,"".concat(O,"-plain"),!!g),Object(b.a)(a,"".concat(O,"-rtl"),"rtl"===r),a),m);return l.createElement("div",Object(p.a)({className:v},E,{role:"separator"}),u&&l.createElement("span",{className:"".concat(O,"-inner-text")},u))}))},S=a(425),v=a(134),_=a.n(v),T=a(279),C=a(435),w=a(436),P=a(414),x=a(395),I=a(427),A=a(170),R=a(224),k=(a(171),a(261),a(42),a(35)),N=function(e){var t=e.onFinish,a=e.form,n=e.idEdit,i=(Object(k.useTranslate)(),Object(o.useDispatch)(),d.a.TextArea),m=Object(l.useState)(!1),h=Object(r.a)(m,2),g=h[0],p=h[1],b=Object(l.useState)([]),E=Object(r.a)(b,2),f=(E[0],E[1],Object(l.useState)("")),O=Object(r.a)(f,2),y=O[0],j=O[1];Object(l.useEffect)((function(){if(n){var e=a.getFieldValue("image");j(e),console.log(e)}}),[a,n]);var S={name:"file",maxCount:1,action:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/deploy-github",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_TITLE:"System"}).REACT_APP_API_URL,"/upload/upload-single "),onSuccess:function(e,t){e.success?(a.setFieldsValue({image:e.url}),console.log("huy",e),j(e.url),x.b.success("T\u1ea3i \u1ea3nh l\xean th\xe0nh c\xf4ng !")):(a.setFieldsValue({image:""}),j(""),"File too large"===e.error.message&&x.b.error("Dung l\u01b0\u1ee3ng \u1ea3nh kh\xf4ng qu\xe1 5mb !"),"Images Only!"===e.error.message?x.b.error("Ch\u1ec9 t\u1ea3i l\xean \u0111\u1ecbnh d\u1ea1ng \u1ea3nh .jpg, .png, .jpeg !"):x.b.error("T\u1ea3i \u1ea3nh l\xean th\u1ea5t b\u1ea1i ! H\xe3y th\u1eed l\u1ea1i !")),p(!1)},onError:function(e,t){a.setFieldsValue({image:""}),j(""),x.b.error("T\u1ea3i \u1ea3nh l\xean th\u1ea5t b\u1ea1i ! H\xe3y th\u1eed l\u1ea1i"),p(!1)}};return c.a.createElement("div",null,c.a.createElement(s.a,{className:"ecommerce-form",onFinish:t,validateMessages:{required:"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !",types:{string:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !",number:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"},string:{max:"${label} t\u1ed1i \u0111a 255 k\xfd t\u1ef1 !"},number:{range:"${label} trong kho\u1ea3ng 1-100 !"},pattern:{mismatch:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"}},form:a},n&&c.a.createElement(s.a.Item,{name:"id",hidden:!0},c.a.createElement(d.a,null)),c.a.createElement(s.a.Item,{name:"name",label:"T\xean",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"}},c.a.createElement(d.a,{placeholder:"V\xed d\u1ee5: Eplaza"})),c.a.createElement(s.a.Item,{name:"email",label:"Email",required:!0,rules:[{required:!0},{type:"email",message:"kh\xf4ng ph\u1ea3i l\xe0 Email"},{max:255}],style:{width:"50%"}},c.a.createElement(d.a,{placeholder:"V\xed d\u1ee5: Eplaza@gmail.com"})),c.a.createElement(s.a.Item,{name:"phone",label:"Phone",required:!0,rules:[{required:!0},{pattern:/((09|03|07|08|05)+([0-9]{8})\b)/g}],style:{width:"50%",paddingRight:"10px"}},c.a.createElement(d.a,{style:{width:"100%"},placeholder:"V\xed d\u1ee5: 0902174492"})),c.a.createElement(s.a.Item,{name:"address",label:"Address",required:!0,rules:[{required:!0},{type:"string",min:0,max:255}],style:{width:"50%"}},c.a.createElement(d.a,{placeholder:"V\xed d\u1ee5: 172A Y\xean L\xe3ng"})),c.a.createElement(s.a.Item,{name:"des",label:"Description",required:!0,rules:[{required:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"}},c.a.createElement(i,null)),c.a.createElement(s.a.Item,{name:"new_img",label:"\u1ea2nh tin t\u1ee9c",valuePropName:"file",getValueFromEvent:function(e){return e&&e.file},style:{width:"50%"}},c.a.createElement(I.a,Object.assign({},S,{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,onChange:function(e){console.log(e.file),"uploading"===e.file.status&&p(!0)}}),y?c.a.createElement("img",{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/deploy-github",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_TITLE:"System"}).REACT_APP_API_URL,"/").concat(y),alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):c.a.createElement("div",null,g?c.a.createElement(A.a,null):c.a.createElement(R.a,null),c.a.createElement("div",{style:{marginTop:8}},"Upload")))),c.a.createElement(s.a.Item,{style:{width:"90%"}}),c.a.createElement(s.a.Item,{name:"image",hidden:!0},c.a.createElement(d.a,null)),c.a.createElement(s.a.Item,{className:"button"},c.a.createElement(u.a,{htmlType:"submit",type:"primary"},"L\u01b0u l\u1ea1i"))))};t.default=function(){var e=Object(o.useSelector)((function(e){return e.ecommerceReducer})),t=e.ecommercelist,a=e.loadingecom,p=Object(o.useDispatch)();Object(l.useEffect)((function(){p(Object(i.e)())}),[]);var b=Object(l.useState)(""),E=Object(r.a)(b,2),f=E[0],O=E[1],y=Object(l.useState)(""),v=Object(r.a)(y,2),x=v[0],I=v[1],A=Object(l.useState)(0),R=Object(r.a)(A,2),k=R[0],q=R[1],D=Object(l.useState)([]),L=Object(r.a)(D,2),F=L[0],V=L[1],K=localStorage.getItem("token"),H=Object(l.useState)(!1),U=Object(r.a)(H,2),z=U[0],W=U[1],B=Object(l.useState)(!1),$=Object(r.a)(B,2),M=$[0],J=$[1],X=s.a.useForm(),Y=Object(r.a)(X,1)[0],G=s.a.useForm(),Q=Object(r.a)(G,1)[0],Z=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,n=t.selectedKeys,r=t.confirm,l=t.clearFilters;return c.a.createElement("div",{style:{padding:12}},c.a.createElement(d.a,{placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return ee(n,r,e)},style:{marginBottom:8,display:"block"}}),c.a.createElement(m.b,null,c.a.createElement(u.a,{type:"primary",onClick:function(){return ee(n,r,e)},icon:c.a.createElement(T.a,null),size:"small",style:{width:90}},"Search"),c.a.createElement(u.a,{onClick:function(){return te(l)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return c.a.createElement(T.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},render:function(t){return x===e?c.a.createElement(_.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[f],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},ee=function(e,t,a){t(),O(e[0]),I(a)},te=function(e){e(),O("")},ae={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t),V(e)}},ne=[Object(n.a)({title:"Name",dataIndex:"name",key:"name",width:"20%"},Z("name")),{title:"Image",dataIndex:"image_url",key:"image_url",width:"12%",render:function(e){return c.a.createElement("img",{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/deploy-github",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_TITLE:"System"}).REACT_APP_API_URL,"/").concat(e),style:{width:"100%",height:"40%"},alt:""})}},Object(n.a)({title:"Phone",dataIndex:"phone",key:"phone",width:"20%",sorter:function(e,t){return e.phone-t.phone},sortDirections:["descend","ascend"]},Z("phone")),Object(n.a)({title:"Email",dataIndex:"email",key:"email",width:"20%"},Z("email")),Object(n.a)(Object(n.a)({title:"Address",dataIndex:"address",key:"address",width:"20%"},Z("address")),{},{sorter:function(e,t){return e.address.length-t.address.length},sortDirections:["descend","ascend"]}),Object(n.a)({title:"Description",dataIndex:"des",key:"des",width:"20%"},Z("des")),{key:"Action",title:c.a.createElement(C.a,{onClick:function(){return p(Object(i.e)())}}),align:"center",width:"10%",render:function(e,t,a){return c.a.createElement(m.b,{size:"middle"},c.a.createElement(w.a,{style:{color:"blue"},onClick:function(){return re(t)}}),c.a.createElement(h.a,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(t.name," ?"),onConfirm:function(){return le(t.id)},okText:"X\xf3a",cancelText:"H\u1ee7y"},c.a.createElement(P.a,{style:{color:"red"}})))}}],re=function(e){var t={id:e.id,name:e.name,email:e.email,phone:e.phone,address:e.address,des:e.des,image:e.image_url};console.log(t),q(e.id),Q.setFieldsValue(t),J(!0)},le=function(e){p(Object(i.c)(e))};return c.a.createElement("div",null,c.a.createElement("div",{className:"addecommerce"},c.a.createElement(u.a,{className:"hidden-ecommerce",type:"primary",onClick:function(){return W(!0)}},"Th\xeam S\xe0n"),c.a.createElement(h.a,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(F.length," s\xe0n ?"),onConfirm:function(){return p(Object(i.c)(F))},okText:"X\xf3a",cancelText:"H\u1ee7y"},c.a.createElement(u.a,{type:"danger",disabled:!F.length},"x\xf3a s\xe0n"))),c.a.createElement("br",null),c.a.createElement(g.a,{className:"modal-add",title:"Th\xeam S\xe0n",visible:z,footer:"",centered:!0,onCancel:function(){return W(!1)}},c.a.createElement(N,{onFinish:function(e){var t={name:e.name,email:e.email,phone:e.phone,address:e.address,des:e.des,image_url:e.image};Y.resetFields(),p(Object(i.b)(t,K)),W(!1)},form:Y})),c.a.createElement(g.a,{className:"modal-edit",title:"S\u1eeda S\xe0n",visible:M,onCancel:function(){return J(!1)},centered:!0,footer:""},c.a.createElement(N,{onFinish:function(e){var t={id:e.id,name:e.name,email:e.email,phone:e.phone,address:e.address,des:e.des,image_url:e.image};p(Object(i.d)(t)),J(!1),console.log(t)},form:Q,idEdit:k})),c.a.createElement(j,null),c.a.createElement(S.a,{scroll:{x:900},rowSelection:Object(n.a)({},ae),pagination:{defaultCurrent:30,defaultPageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,30,50,100]},loading:a,columns:ne,dataSource:t,rowKey:function(e){return e.id},bordered:!0}))}}}]);
//# sourceMappingURL=15.962e374d.chunk.js.map