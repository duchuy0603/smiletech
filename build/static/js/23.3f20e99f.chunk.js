"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[23],{7023:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(1413),i=n(9439),a=n(2791),l=n(281),s=n(364),o=n(7462),c=n(4942),d=n(1694),u=n.n(d),h=n(9077),m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},g=function(e){return a.createElement(h.C,null,(function(t){var n,r=t.getPrefixCls,i=t.direction,l=e.prefixCls,s=e.type,d=void 0===s?"horizontal":s,h=e.orientation,g=void 0===h?"center":h,p=e.className,f=e.children,x=e.dashed,Z=e.plain,y=m(e,["prefixCls","type","orientation","className","children","dashed","plain"]),j=r("divider",l),v=g.length>0?"-".concat(g):g,b=!!f,w=u()(j,"".concat(j,"-").concat(d),(n={},(0,c.Z)(n,"".concat(j,"-with-text"),b),(0,c.Z)(n,"".concat(j,"-with-text").concat(v),b),(0,c.Z)(n,"".concat(j,"-dashed"),!!x),(0,c.Z)(n,"".concat(j,"-plain"),!!Z),(0,c.Z)(n,"".concat(j,"-rtl"),"rtl"===i),n),p);return a.createElement("div",(0,o.Z)({className:w},y,{role:"separator"}),f&&a.createElement("span",{className:"".concat(j,"-inner-text")},f))}))},p=n(9930),f=n(2425),x=n(3099),Z=n(7309),y=n(8183),j=n(7545),v=n(174),b=n(6263),w=n.n(b),S=n(1730),k=n(4057),C=n(1752),I=n(2622),q=n(3695),E=n(5064),F=n(7106),P=n(9286),T=(n(7705),n(4569),n(184)),N=function(e){var t=e.onFinish,n=e.form,l=e.idEdit,o=((0,s.useDispatch)(),f.Z.TextArea),c=(0,a.useState)(!1),d=(0,i.Z)(c,2),u=d[0],h=d[1],m=(0,a.useState)([]),g=(0,i.Z)(m,2),x=(g[0],g[1],(0,a.useState)("")),y=(0,i.Z)(x,2),j=y[0],v=y[1];(0,a.useEffect)((function(){if(l){var e=n.getFieldValue("image");v(e),console.log(e)}}),[n,l]);var b={name:"file",maxCount:1,action:"".concat("http://103.9.159.151:22297","/upload/upload-single "),onSuccess:function(e,t){e.success?(n.setFieldsValue({image:e.url}),console.log("huy",e),v(e.url),q.ZP.success("T\u1ea3i \u1ea3nh l\xean th\xe0nh c\xf4ng !")):(n.setFieldsValue({image:""}),v(""),"File too large"===e.error.message&&q.ZP.error("Dung l\u01b0\u1ee3ng \u1ea3nh kh\xf4ng qu\xe1 5mb !"),"Images Only!"===e.error.message?q.ZP.error("Ch\u1ec9 t\u1ea3i l\xean \u0111\u1ecbnh d\u1ea1ng \u1ea3nh .jpg, .png, .jpeg !"):q.ZP.error("T\u1ea3i \u1ea3nh l\xean th\u1ea5t b\u1ea1i ! H\xe3y th\u1eed l\u1ea1i !")),h(!1)},onError:function(e,t){n.setFieldsValue({image:""}),v(""),q.ZP.error("T\u1ea3i \u1ea3nh l\xean th\u1ea5t b\u1ea1i ! H\xe3y th\u1eed l\u1ea1i"),h(!1)}};return(0,T.jsx)("div",{children:(0,T.jsxs)(p.Z,{className:"ecommerce-form",onFinish:t,validateMessages:{required:"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !",types:{string:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !",number:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"},string:{max:"${label} t\u1ed1i \u0111a 255 k\xfd t\u1ef1 !"},number:{range:"${label} trong kho\u1ea3ng 1-100 !"},pattern:{mismatch:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"}},form:n,children:[l&&(0,T.jsx)(p.Z.Item,{name:"id",hidden:!0,children:(0,T.jsx)(f.Z,{})}),(0,T.jsx)(p.Z.Item,{name:"name",label:"T\xean",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,T.jsx)(f.Z,{placeholder:"V\xed d\u1ee5: Eplaza"})}),(0,T.jsx)(p.Z.Item,{name:"email",label:"Email",required:!0,rules:[{required:!0},{type:"email",message:"kh\xf4ng ph\u1ea3i l\xe0 Email"},{max:255}],style:{width:"50%"},children:(0,T.jsx)(f.Z,{placeholder:"V\xed d\u1ee5: Eplaza@gmail.com"})}),(0,T.jsx)(p.Z.Item,{name:"phone",label:"Phone",required:!0,rules:[{required:!0},{pattern:/((09|03|07|08|05)+([0-9]{8})\b)/g}],style:{width:"50%",paddingRight:"10px"},children:(0,T.jsx)(f.Z,{style:{width:"100%"},placeholder:"V\xed d\u1ee5: 0902174492"})}),(0,T.jsx)(p.Z.Item,{name:"address",label:"Address",required:!0,rules:[{required:!0},{type:"string",min:0,max:255}],style:{width:"50%"},children:(0,T.jsx)(f.Z,{placeholder:"V\xed d\u1ee5: 172A Y\xean L\xe3ng"})}),(0,T.jsx)(p.Z.Item,{name:"des",label:"Description",required:!0,rules:[{required:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,T.jsx)(o,{})}),(0,T.jsx)(p.Z.Item,{name:"new_img",label:"\u1ea2nh tin t\u1ee9c",valuePropName:"file",getValueFromEvent:function(e){return e&&e.file},style:{width:"50%"},children:(0,T.jsx)(E.Z,(0,r.Z)((0,r.Z)({},b),{},{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,onChange:function(e){console.log(e.file),"uploading"===e.file.status&&h(!0)},children:j?(0,T.jsx)("img",{src:"".concat("http://103.9.159.151:22297","/").concat(j),alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,T.jsxs)("div",{children:[u?(0,T.jsx)(F.Z,{}):(0,T.jsx)(P.Z,{}),(0,T.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}))}),(0,T.jsx)(p.Z.Item,{style:{width:"90%"}}),(0,T.jsx)(p.Z.Item,{name:"image",hidden:!0,children:(0,T.jsx)(f.Z,{})}),(0,T.jsx)(p.Z.Item,{className:"button",children:(0,T.jsx)(Z.Z,{htmlType:"submit",type:"primary",children:"L\u01b0u l\u1ea1i"})})]})})},O=function(){var e=(0,s.useSelector)((function(e){return e.ecommerceReducer})),t=e.ecommercelist,n=e.loadingecom,o=(0,s.useDispatch)();(0,a.useEffect)((function(){o((0,l.A4)())}),[]);var c=(0,a.useState)(""),d=(0,i.Z)(c,2),u=d[0],h=d[1],m=(0,a.useState)(""),b=(0,i.Z)(m,2),q=b[0],E=b[1],F=(0,a.useState)(0),P=(0,i.Z)(F,2),O=P[0],V=P[1],z=(0,a.useState)([]),R=(0,i.Z)(z,2),D=R[0],A=R[1],H=localStorage.getItem("token"),_=(0,a.useState)(!1),K=(0,i.Z)(_,2),L=K[0],$=K[1],B=(0,a.useState)(!1),M=(0,i.Z)(B,2),W=M[0],U=M[1],X=p.Z.useForm(),Y=(0,i.Z)(X,1)[0],G=p.Z.useForm(),J=(0,i.Z)(G,1)[0],Q=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,a=t.clearFilters;return(0,T.jsxs)("div",{style:{padding:12},children:[(0,T.jsx)(f.Z,{placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return ee(r,i,e)},style:{marginBottom:8,display:"block"}}),(0,T.jsxs)(x.Z,{children:[(0,T.jsx)(Z.Z,{type:"primary",onClick:function(){return ee(r,i,e)},icon:(0,T.jsx)(S.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,T.jsx)(Z.Z,{onClick:function(){return te(a)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return(0,T.jsx)(S.Z,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},render:function(t){return q===e?(0,T.jsx)(w(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[u],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},ee=function(e,t,n){t(),h(e[0]),E(n)},te=function(e){e(),h("")},ne={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t),A(e)}},re=[(0,r.Z)({title:"Name",dataIndex:"name",key:"name",width:"20%"},Q("name")),{title:"Image",dataIndex:"image_url",key:"image_url",width:"12%",render:function(e){return(0,T.jsx)("img",{src:"".concat("http://103.9.159.151:22297","/").concat(e),style:{width:"100%",height:"40%"},alt:""})}},(0,r.Z)({title:"Phone",dataIndex:"phone",key:"phone",width:"20%",sorter:function(e,t){return e.phone-t.phone},sortDirections:["descend","ascend"]},Q("phone")),(0,r.Z)({title:"Email",dataIndex:"email",key:"email",width:"20%"},Q("email")),(0,r.Z)((0,r.Z)({title:"Address",dataIndex:"address",key:"address",width:"20%"},Q("address")),{},{sorter:function(e,t){return e.address.length-t.address.length},sortDirections:["descend","ascend"]}),(0,r.Z)({title:"Description",dataIndex:"des",key:"des",width:"20%"},Q("des")),{key:"Action",title:(0,T.jsx)(k.Z,{onClick:function(){return o((0,l.A4)())}}),align:"center",width:"10%",render:function(e,t,n){return(0,T.jsxs)(x.Z,{size:"middle",children:[(0,T.jsx)(C.Z,{style:{color:"blue"},onClick:function(){return ie(t)}}),(0,T.jsx)(y.Z,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(t.name," ?"),onConfirm:function(){return ae(t.id)},okText:"X\xf3a",cancelText:"H\u1ee7y",children:(0,T.jsx)(I.Z,{style:{color:"red"}})})]})}}],ie=function(e){var t={id:e.id,name:e.name,email:e.email,phone:e.phone,address:e.address,des:e.des,image:e.image_url};console.log(t),V(e.id),J.setFieldsValue(t),U(!0)},ae=function(e){o((0,l.g9)(e))};return(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:"addecommerce",children:[(0,T.jsx)(Z.Z,{className:"hidden-ecommerce",type:"primary",onClick:function(){return $(!0)},children:"Th\xeam S\xe0n"}),(0,T.jsx)(y.Z,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(D.length," s\xe0n ?"),onConfirm:function(){return o((0,l.g9)(D))},okText:"X\xf3a",cancelText:"H\u1ee7y",children:(0,T.jsx)(Z.Z,{type:"danger",disabled:!D.length,children:"x\xf3a s\xe0n"})})]}),(0,T.jsx)("br",{}),(0,T.jsx)(j.Z,{className:"modal-add",title:"Th\xeam S\xe0n",visible:L,footer:"",centered:!0,onCancel:function(){return $(!1)},children:(0,T.jsx)(N,{onFinish:function(e){var t={name:e.name,email:e.email,phone:e.phone,address:e.address,des:e.des,image_url:e.image};Y.resetFields(),o((0,l.Ww)(t,H)),$(!1)},form:Y})}),(0,T.jsx)(j.Z,{className:"modal-edit",title:"S\u1eeda S\xe0n",visible:W,onCancel:function(){return U(!1)},centered:!0,footer:"",children:(0,T.jsx)(N,{onFinish:function(e){var t={id:e.id,name:e.name,email:e.email,phone:e.phone,address:e.address,des:e.des,image_url:e.image};o((0,l.Wh)(t)),U(!1),console.log(t)},form:J,idEdit:O})}),(0,T.jsx)(g,{}),(0,T.jsx)(v.Z,{scroll:{x:900},rowSelection:(0,r.Z)({},ne),pagination:{defaultCurrent:30,defaultPageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,30,50,100]},loading:n,columns:re,dataSource:t,rowKey:function(e){return e.id},bordered:!0})]})}},9286:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),i=n(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=n(4291),s=function(e,t){return i.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};s.displayName="PlusOutlined";var o=i.forwardRef(s)}}]);
//# sourceMappingURL=23.3f20e99f.chunk.js.map