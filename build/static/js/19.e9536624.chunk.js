(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[19],{267:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(121),c=a(1),l=a.n(c),i=a(64),o=a(29),m=a(429),d=a(430),u=a(432),s=a(140),f=a(433),p=a(431),b=a(425),h=a(134),g=a.n(h),E=a(279),O=a(435),y=a(436),j=a(414),S=(a(267),a(427)),v=a(271),_=a(395),w=a(416),C=a(41),T=(a(42),a(9)),I=function(e){var t=e.onFinish,a=e.form,n=e.idEdit,i=Object(T.c)(),u=d.a.TextArea,f=S.a.Dragger,p=v.a.Option,b=Object(o.useDispatch)(),h=Object(o.useSelector)((function(e){return e.ecommerceReducer})).ecommercelist,g=Object(c.useState)(!1),E=Object(r.a)(g,2),O=(E[0],E[1],Object(c.useState)(!1)),y=Object(r.a)(O,2);y[0],y[1];Object(c.useEffect)((function(){b(Object(C.e)())}),[]);var j=Object(c.useState)(!1),I=Object(r.a)(j,2),P=(I[0],I[1],Object(c.useState)([])),k=Object(r.a)(P,2),x=(k[0],k[1],Object(c.useState)([])),R=Object(r.a)(x,2),N=(R[0],R[1]);Object(c.useEffect)((function(){if(n){var e=a.getFieldValue("image");N(e),console.log(e)}}),[a,n]);var L={name:"files",multiple:!0,action:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/deploy-github",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_TITLE:"System"}).REACT_APP_API_URL,"/upload/upload-array"),onChange:function(e){var t=e.file.status;if("uploading"!==t&&console.log(e.file,e.fileList),"done"===t){var n=e.fileList.map((function(e){return encodeURI(e.name)}));console.log(n),a.setFieldsValue({image:n}),N(e.list),_.b.success("".concat(e.file.name," file uploaded successfully."))}else"error"===t&&(a.setFieldsValue({image:""}),N(""),_.b.error("".concat(e.file.name," file upload failed.")))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return l.a.createElement("div",null,l.a.createElement(m.a,{className:"ecommerce-form",validateMessages:{required:"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !",types:{string:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !",number:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"},string:{max:"${label} t\u1ed1i \u0111a 255 k\xfd t\u1ef1 !"},number:{range:"${label} trong kho\u1ea3ng 1-100 !"},pattern:{mismatch:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"}},onFinish:t,form:a,method:"POST",encType:"multipart/form-data"},n&&l.a.createElement(m.a.Item,{name:"id",hidden:!0},l.a.createElement(d.a,null)),l.a.createElement(m.a.Item,{name:"name",label:"T\xean",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"}},l.a.createElement(d.a,{placeholder:"V\xed d\u1ee5: Eplaza"})),l.a.createElement(m.a.Item,{name:"content",label:"content",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"}},l.a.createElement(d.a,{placeholder:"V\xed d\u1ee5: Eplaza"})),l.a.createElement(m.a.Item,{name:"description",label:"Description",required:!0,rules:[{required:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"}},l.a.createElement(u,null)),2==i.ecommerce_id?null:l.a.createElement(m.a.Item,{name:"ecommerceId",label:"EcommerceId",required:!0,rules:[{required:!0}],style:{width:"50%",paddingRight:"10px"}},l.a.createElement(v.a,{showSearch:!0,style:{width:200},placeholder:"EcommerceId",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},h.map((function(e,t){return l.a.createElement(p,{key:t,value:e.id},e.name)})))),l.a.createElement(m.a.Item,{name:"new_img",label:"\u1ea2nh tin t\u1ee9c",valuePropName:"file",getValueFromEvent:function(e){return e&&e.file},style:{width:"50%"}},l.a.createElement(f,L,l.a.createElement("p",{className:"ant-upload-drag-icon"},l.a.createElement(w.a,null)),l.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),l.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files")),","),l.a.createElement(m.a.Item,{name:"image",hidden:!0},l.a.createElement(d.a,null)),l.a.createElement(m.a.Item,{style:{width:"90%"}}),l.a.createElement(m.a.Item,{className:"button"},l.a.createElement(s.a,{htmlType:"submit",type:"primary"},"L\u01b0u l\u1ea1i"))))};t.default=function(){var e=Object(o.useSelector)((function(e){return e.newReducer})),t=e.newlist,a=e.loadingnew,h=(Object(T.c)(),Object(o.useDispatch)());Object(c.useEffect)((function(){h(Object(i.e)())}),[h]);var S=Object(c.useState)(""),v=Object(r.a)(S,2),_=v[0],w=v[1],C=Object(c.useState)(""),P=Object(r.a)(C,2),k=P[0],x=P[1],R=Object(c.useState)(!1),N=Object(r.a)(R,2),L=N[0],A=N[1],D=Object(c.useState)(!1),F=Object(r.a)(D,2),V=F[0],z=F[1],H=Object(c.useState)(0),K=Object(r.a)(H,2),q=K[0],U=K[1],W=m.a.useForm(),B=Object(r.a)(W,1)[0],$=m.a.useForm(),J=Object(r.a)($,1)[0],M=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,n=t.selectedKeys,r=t.confirm,c=t.clearFilters;return l.a.createElement("div",{style:{padding:12}},l.a.createElement(d.a,{placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return X(n,r,e)},style:{marginBottom:8,display:"block"}}),l.a.createElement(u.b,null,l.a.createElement(s.a,{type:"primary",onClick:function(){return X(n,r,e)},icon:l.a.createElement(E.a,null),size:"small",style:{width:90}},"Search"),l.a.createElement(s.a,{onClick:function(){return G(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return l.a.createElement(E.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},render:function(t){return k===e?l.a.createElement(g.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[_],autoEscape:!0,textToHighlight:t?t.toString():""}):"ecommerce"===e?null===t||void 0===t?void 0:t.name:t}}},X=function(e,t,a){t(),w(e[0]),x(a)},G=function(e){e(),w("")},Q=[Object(n.a)({title:"Name",dataIndex:"name",key:"name",width:"20%"},M("name")),Object(n.a)({title:"Content",dataIndex:"content",key:"content",width:"20%"},M("content")),{title:"Image",dataIndex:"image_url",key:"image_url",width:"5%",render:function(e){return l.a.createElement("img",{src:(t=e,null===t?void 0:Object({NODE_ENV:"production",PUBLIC_URL:"/deploy-github",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV:"production",REACT_APP_TITLE:"System"}).REACT_APP_API_URL+t[0].url),style:{width:"100%",height:"100%"},alt:""});var t}},Object(n.a)({title:"Description",dataIndex:"des",key:"des",width:"20%"},M("des")),Object(n.a)({title:"EcommerceId",dataIndex:"ecommerce",key:"ecommerce",width:"20%",sorter:function(e,t){return e.ecommerce-t.ecommerce},sortDirections:["descend","ascend"]},M("ecommerce")),{key:"Action",title:l.a.createElement(O.a,{onClick:function(){return h(Object(i.e)())}}),align:"center",width:"10%",render:function(e,t,a){return l.a.createElement(u.b,{size:"middle"},l.a.createElement(y.a,{style:{color:"blue"},onClick:function(){return Y(t)}}),l.a.createElement(f.a,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(t.name," ?"),onConfirm:function(){return Z(t.id)},okText:"X\xf3a",cancelText:"H\u1ee7y"},l.a.createElement(j.a,{style:{color:"red"}})))}}],Y=Object(c.useCallback)((function(e){var t,a={id:e.id,name:e.name,content:e.content,description:e.des,ecommerceId:null===(t=e.ecommerce)||void 0===t?void 0:t.id,image:e.image_url};J.setFieldsValue(a),U(e.id),z(!0)}),[J]),Z=function(e){h(Object(i.c)(e))};return l.a.createElement("div",null,l.a.createElement("div",{className:"addecommerce"},l.a.createElement(s.a,{type:"primary",onClick:function(){return A(!0)}},"Th\xeam New")),l.a.createElement("br",null),l.a.createElement(p.a,{className:"modal-add",title:"Th\xeam New",visible:L,footer:"",centered:!0,onCancel:function(){return A(!1)}},l.a.createElement(I,{onFinish:function(e){var t={name:e.name,content:e.content,des:e.description,ecommerce_id:e.ecommerceId,image_url:e.image};h(Object(i.b)(t)),A(!1),B.resetFields(),console.log(t)},form:B})),l.a.createElement(p.a,{className:"modal-edit",title:"S\u1eeda New",visible:V,onCancel:function(){return z(!1)},centered:!0,footer:""},l.a.createElement(I,{onFinish:function(e){var t={id:e.id,name:e.name,content:e.content,des:e.description,ecommerce_id:e.ecommerceId,image_url:e.image};h(Object(i.d)(t)),z(!1),B.resetFields(),console.log(t)},form:J,idEdit:q})),l.a.createElement(b.a,{scroll:{x:900},pagination:{defaultCurrent:30,defaultPageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,30,50,100]},loading:a,columns:Q,dataSource:t,rowKey:function(e){return e.id},bordered:!0}))}},416:function(e,t,a){"use strict";var n=a(28),r=a(1),c={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},l=a(112),i=function(e,t){return r.createElement(l.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:c}))};i.displayName="InboxOutlined";t.a=r.forwardRef(i)}}]);
//# sourceMappingURL=19.e9536624.chunk.js.map