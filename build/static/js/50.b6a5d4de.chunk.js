"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[50],{8050:function(e,t,r){r.r(t),r.d(t,{default:function(){return q}});var n=r(1413),i=r(9439),a=r(2791),l=r(7489),s=r(364),o=r(9930),d=r(2425),c=r(3099),u=r(7309),h=r(8183),m=r(7545),p=r(174),g=r(6263),f=r.n(g),x=r(1730),y=r(4057),Z=r(1752),j=r(2622),w=(r(4388),r(2949)),v=r(3695),b=r(5064),S=r(7106),k=r(9286),C=(r(4569),r(8816)),I=r(184),_=function(e){var t=e.onFinish,r=e.form,l=e.idEdit,c=(d.Z.TextArea,w.Z.Option),h=(0,s.useDispatch)(),m=((0,s.useSelector)((function(e){return e.categoriesReducer})).categorieslist,(0,s.useSelector)((function(e){return e.storeReducer})).storelist),p=(0,a.useState)(!1),g=(0,i.Z)(p,2),f=(g[0],g[1],(0,a.useState)(!1)),x=(0,i.Z)(f,2),y=(x[0],x[1],(0,a.useState)(!1)),Z=(0,i.Z)(y,2),j=Z[0],_=Z[1],q=(0,a.useState)([]),F=(0,i.Z)(q,2),P=(F[0],F[1],(0,a.useState)("")),T=(0,i.Z)(P,2),N=T[0],E=T[1];(0,a.useEffect)((function(){if(l){var e=r.getFieldValue("image");E(e),console.log(e)}h((0,C.Ym)())}),[r,l]);var R={name:"file",maxCount:1,action:"".concat("http://103.9.159.151:22297","/upload/upload-single"),onSuccess:function(e,t){console.log("ok",e),e.success?(r.setFieldsValue({image:e.url}),E(e.url),v.ZP.success("T\u1ea3i \u1ea3nh l\xean th\xe0nh c\xf4ng !")):(r.setFieldsValue({image:""}),E(""),"File too large"===e.error.message&&v.ZP.error("Dung l\u01b0\u1ee3ng \u1ea3nh kh\xf4ng qu\xe1 5mb !"),"Images Only!"===e.error.message?v.ZP.error("Ch\u1ec9 t\u1ea3i l\xean \u0111\u1ecbnh d\u1ea1ng \u1ea3nh .jpg, .png, .jpeg !"):v.ZP.error("T\u1ea3i \u1ea3nh l\xean th\u1ea5t b\u1ea1i ! H\xe3y th\u1eed l\u1ea1i !")),_(!1)},onError:function(e,t){r.setFieldsValue({image:""}),E(""),v.ZP.error("T\u1ea3i \u1ea3nh l\xean th\u1ea5t b\u1ea1i ! H\xe3y th\u1eed l\u1ea1i"),_(!1)}};return(0,I.jsx)("div",{children:(0,I.jsxs)(o.Z,{className:"ecommerce-form",validateMessages:{required:"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !",types:{string:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !",number:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"},string:{max:"${label} t\u1ed1i \u0111a 255 k\xfd t\u1ef1 !"},number:{range:"${label} trong kho\u1ea3ng 1-100 !"},pattern:{mismatch:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"}},onFinish:t,form:r,method:"POST",encType:"multipart/form-data",children:[l&&(0,I.jsx)(o.Z.Item,{name:"id",hidden:!0,children:(0,I.jsx)(d.Z,{})}),(0,I.jsx)(o.Z.Item,{name:"user_name",label:"UserName",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(d.Z,{placeholder:"V\xed d\u1ee5: Eplaza"})}),(0,I.jsx)(o.Z.Item,{name:"full_name",label:"FullName",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(d.Z,{placeholder:"nguyen duc huy"})}),(0,I.jsx)(o.Z.Item,{name:"password",label:"Password",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(d.Z.Password,{placeholder:"nguyen duc huy"})}),(0,I.jsx)(o.Z.Item,{name:"email",label:"Email",required:!0,rules:[{required:!0},{type:"email",message:"kh\xf4ng ph\u1ea3i l\xe0 Email",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(d.Z,{placeholder:""})}),(0,I.jsx)(o.Z.Item,{name:"phone",label:"Phone",required:!0,rules:[{required:!0},{type:"string"},{pattern:/((09|03|07|08|05)+([0-9]{8})\b)/g}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(d.Z,{placeholder:""})}),(0,I.jsx)(o.Z.Item,{name:"store_id",label:"storeId",required:!0,rules:[{required:!0}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(w.Z,{showSearch:!0,style:{width:"100% "},placeholder:"storeId",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:m.map((function(e,t){return(0,I.jsx)(c,{value:e.id,children:e.name},t)}))})}),(0,I.jsx)(o.Z.Item,{name:"type",label:"Type",required:!0,rules:[{required:!0}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsxs)(w.Z,{showSearch:!0,style:{width:"100%"},placeholder:"type",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:[(0,I.jsx)(c,{value:1,children:"Ho\u1ea1t \u0110\u1ed9ng"}),(0,I.jsx)(c,{value:0,children:"T\u1ea1m D\u1eebng"})]})}),(0,I.jsx)(o.Z.Item,{name:"new_img",label:"\u1ea2nh \u0110\u1ea1i Di\u1ec7n",valuePropName:"file",getValueFromEvent:function(e){return e&&e.file},style:{width:"50%"},children:(0,I.jsx)(b.Z,(0,n.Z)((0,n.Z)({},R),{},{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,onChange:function(e){console.log(e.file),"uploading"===e.file.status&&_(!0)},children:N?(0,I.jsx)("img",{src:"".concat("http://103.9.159.151:22297","/").concat(N),alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,I.jsxs)("div",{children:[j?(0,I.jsx)(S.Z,{}):(0,I.jsx)(k.Z,{}),(0,I.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}))}),(0,I.jsx)(o.Z.Item,{name:"image",hidden:!0,children:(0,I.jsx)(d.Z,{})}),(0,I.jsx)(o.Z.Item,{style:{width:"90%"}}),(0,I.jsx)(o.Z.Item,{className:"button",children:(0,I.jsx)(u.Z,{htmlType:"submit",type:"primary",children:"L\u01b0u l\u1ea1i"})})]})})},q=function(){var e=(0,s.useSelector)((function(e){return e.userReducer})),t=e.userlist,r=e.loadinguser;console.log(t);localStorage.getItem("token");var g=(0,s.useDispatch)();(0,a.useEffect)((function(){g((0,l.vs)())}),[g]);var w=(0,a.useState)(""),v=(0,i.Z)(w,2),b=v[0],S=v[1],k=(0,a.useState)(""),C=(0,i.Z)(k,2),q=C[0],F=C[1],P=(0,a.useState)(!1),T=(0,i.Z)(P,2),N=T[0],E=T[1],R=(0,a.useState)(!1),L=(0,i.Z)(R,2),D=L[0],O=L[1],z=o.Z.useForm(),V=(0,i.Z)(z,1)[0],H=o.Z.useForm(),U=(0,i.Z)(H,1)[0],$=function(e){return{filterDropdown:function(t){var r=t.setSelectedKeys,n=t.selectedKeys,i=t.confirm,a=t.clearFilters;return(0,I.jsxs)("div",{style:{padding:12},children:[(0,I.jsx)(d.Z,{placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return K(n,i,e)},style:{marginBottom:8,display:"block"}}),(0,I.jsxs)(c.Z,{children:[(0,I.jsx)(u.Z,{type:"primary",onClick:function(){return K(n,i,e)},icon:(0,I.jsx)(x.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,I.jsx)(u.Z,{onClick:function(){return A(a)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return(0,I.jsx)(x.Z,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,r){return r[e]?r[e].toString().toLowerCase().includes(t.toLowerCase()):""},render:function(t){return q===e?(0,I.jsx)(f(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[b],autoEscape:!0,textToHighlight:t?t.toString():""}):"store_id"===e||"category"===e?null===t||void 0===t?void 0:t.name:t}}},K=function(e,t,r){t(),S(e[0]),F(r)},A=function(e){e(),S("")},B=[(0,n.Z)({title:"UserName",dataIndex:"user_name",key:"user_name",width:"20%"},$("user_name")),(0,n.Z)({title:"FullName",dataIndex:"full_name",key:"full_name",width:"20%"},$("full_name")),{title:"Avatar",dataIndex:"avatar",key:"avatar",width:"20%",render:function(e){return(0,I.jsx)("img",{src:"".concat("http://103.9.159.151:22297","/").concat(e),style:{width:"100%",height:"100%"},alt:""})}},(0,n.Z)({title:"Phone",dataIndex:"phone",key:"phone",width:"20%",sorter:function(e,t){return e.Phone-t.Phone},sortDirections:["descend","ascend"]},$("Phone")),(0,n.Z)({title:"Email",dataIndex:"email",key:"email",width:"20%"},$("email")),(0,n.Z)({title:"Store",dataIndex:"store",key:"store",width:"20%",sorter:function(e,t){return e.store_id-t.store_id},sortDirections:["descend","ascend"]},$("store")),(0,n.Z)({title:"Type",dataIndex:"type",key:"type",width:"20%",sorter:function(e,t){return e.type-t.type},sortDirections:["descend","ascend"]},$("type")),{key:"Action",title:(0,I.jsx)(y.Z,{onClick:function(){return g((0,l.vs)())}}),align:"center",width:"10%",render:function(e,t,r){return(0,I.jsxs)(c.Z,{size:"middle",children:[(0,I.jsx)(Z.Z,{style:{color:"blue"},onClick:function(){return M(t)}}),(0,I.jsx)(h.Z,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(t.userName," ?"),onConfirm:function(){return W(t.id)},okText:"X\xf3a",cancelText:"H\u1ee7y",children:(0,I.jsx)(j.Z,{style:{color:"red"}})})]})}}],M=(0,a.useCallback)((function(e){var t={id:e.id,user_name:e.user_name,full_name:e.full_name,password:e.password,email:e.email,phone:e.phone,store_id:e.store_id,type:e.type,image:e.avatar};U.setFieldsValue(t),O(!0)}),[U]),W=function(e){g((0,l.DZ)(e))};return(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:"addecommerce",children:(0,I.jsx)(u.Z,{type:"primary",onClick:function(){return E(!0)},children:"Th\xeam user"})}),(0,I.jsx)("br",{}),(0,I.jsx)(m.Z,{className:"modal-add",title:"Th\xeam user",visible:N,footer:"",centered:!0,onCancel:function(){return E(!1)},children:(0,I.jsx)(_,{onFinish:function(e){var t={user_name:e.user_name,full_name:e.full_name,password:e.password,email:e.email,phone:e.phone,store_id:e.store_id,type:e.type};g((0,l.RF)(t)),E(!1),V.resetFields()},form:V})}),(0,I.jsx)(m.Z,{className:"modal-edit",title:"S\u1eeda user",visible:D,onCancel:function(){return O(!1)},centered:!0,footer:"",children:(0,I.jsx)(_,{onFinish:function(e){var t={Id:e.id,UserName:e.userName,FullName:e.fullName,Password:e.password,Email:e.email,Phone:e.phone,StoreId:e.storeId,Type:e.type,image:e.image};g((0,l.f7)(t)),O(!1),V.resetFields()},form:U,idEdit:!0})}),(0,I.jsx)(p.Z,{scroll:{x:900},pagination:{defaultCurrent:30,defaultPageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,30,50,100]},loading:r,columns:B,dataSource:t,rowKey:function(e){return e.id},bordered:!0})]})}},9286:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(1413),i=r(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=r(4291),s=function(e,t){return i.createElement(l.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:a}))};s.displayName="PlusOutlined";var o=i.forwardRef(s)},4388:function(){}}]);
//# sourceMappingURL=50.b6a5d4de.chunk.js.map