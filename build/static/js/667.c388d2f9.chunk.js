"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[667],{5667:function(e,t,r){r.r(t),r.d(t,{default:function(){return F}});var n=r(1413),i=r(9439),o=r(2791),a=r(1042),l=r(364),d=r(2949),s=r(9930),c=r(2425),u=r(3099),h=r(7309),m=r(8183),p=r(7545),f=r(174),g=r(6263),x=r.n(g),Z=r(1730),y=r(4057),j=r(1752),w=r(2622),v=r(5064),C=r(3695),S=r(6776),b=(r(4569),r(8816)),_=r(194),I=r(184),k=function(e){var t=e.onFinish,r=e.form,a=e.idEdit,u=c.Z.TextArea,m=v.Z.Dragger,p=d.Z.Option,f=(0,l.useDispatch)(),g=(0,l.useSelector)((function(e){return e.categoriesReducer})).categorieslist,x=(0,l.useSelector)((function(e){return e.storeReducer})).storelist,Z=(0,o.useState)(!1),y=(0,i.Z)(Z,2),j=(y[0],y[1],(0,o.useState)(!1)),w=(0,i.Z)(j,2),k=(w[0],w[1],(0,o.useState)(!1)),F=(0,i.Z)(k,2),L=(F[0],F[1],(0,o.useState)([])),P=(0,i.Z)(L,2),q=(P[0],P[1],(0,o.useState)("")),D=(0,i.Z)(q,2),N=(D[0],D[1]);(0,o.useEffect)((function(){if(a){var e=r.getFieldValue("image");N(e[0]),console.log(e)}f((0,_.aJ)()),f((0,b.Ym)())}),[r,a]);var O={name:"files",multiple:!0,action:"".concat("http://103.9.159.151:22297","/upload/upload-array"),onChange:function(e){var t=e.file.status;if("uploading"!==t&&console.log(e.file,e.fileList),"done"===t){var n=e.fileList.map((function(e){return encodeURI(e.name)}));console.log(n),r.setFieldsValue({image:n}),N(e.list),C.ZP.success("".concat(e.file.name," file uploaded successfully."))}else"error"===t&&(r.setFieldsValue({image:""}),N(""),C.ZP.error("".concat(e.file.name," file upload failed.")))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,I.jsx)("div",{children:(0,I.jsxs)(s.Z,{className:"ecommerce-form",validateMessages:{required:"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !",types:{string:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !",number:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"},string:{max:"${label} t\u1ed1i \u0111a 255 k\xfd t\u1ef1 !"},number:{range:"${label} trong kho\u1ea3ng 1-100 !"},pattern:{mismatch:"${label} kh\xf4ng h\u1ee3p l\u1ec7 !"}},onFinish:t,form:r,method:"POST",encType:"multipart/form-data",children:[a&&(0,I.jsx)(s.Z.Item,{name:"id",hidden:!0,children:(0,I.jsx)(c.Z,{})}),(0,I.jsx)(s.Z.Item,{name:"name",label:"T\xean",required:!0,rules:[{required:!0,whitespace:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(c.Z,{placeholder:"V\xed d\u1ee5: Eplaza"})}),(0,I.jsx)(s.Z.Item,{name:"price",label:"Price",required:!0,rules:[{required:!0},{type:"string"}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(c.Z,{placeholder:"100.000$"})}),(0,I.jsx)(s.Z.Item,{name:"content",label:"Content",required:!0,rules:[{required:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(c.Z,{placeholder:""})}),(0,I.jsx)(s.Z.Item,{name:"des",label:"Description",required:!0,rules:[{required:!0},{type:"string",max:255}],style:{width:"50%",paddingRight:"10px"},children:(0,I.jsx)(u,{})}),(0,I.jsx)(s.Z.Item,{name:"category_id",label:"categoryId",required:!0,rules:[{required:!0}],style:{width:"50%"},children:(0,I.jsx)(d.Z,{showSearch:!0,style:{width:200},placeholder:"categoryId",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:g.map((function(e,t){return(0,I.jsx)(p,{value:e.id,children:e.name},t)}))})}),(0,I.jsx)(s.Z.Item,{name:"store_id",label:"storeId",required:!0,rules:[{required:!0}],style:{width:"50%"},children:(0,I.jsx)(d.Z,{showSearch:!0,style:{width:200},placeholder:"storeId",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:x.map((function(e,t){return(0,I.jsx)(p,{value:e.id,children:e.name},t)}))})}),(0,I.jsx)(s.Z.Item,{name:"parent_id",label:"parentId",required:!0,rules:[{required:!0}],style:{width:"50%"},children:(0,I.jsxs)(d.Z,{showSearch:!0,style:{width:200},placeholder:"parentId",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:[(0,I.jsx)(p,{value:1,children:"Ho\u1ea1t \u0110\u1ed9ng"}),(0,I.jsx)(p,{value:0,children:"T\u1ea1m D\u1eebng"})]})}),(0,I.jsxs)(s.Z.Item,{name:"new_img",label:"\u1ea2nh tin t\u1ee9c",valuePropName:"file",getValueFromEvent:function(e){return e&&e.file},style:{width:"50%"},children:[(0,I.jsxs)(m,(0,n.Z)((0,n.Z)({},O),{},{children:[(0,I.jsx)("p",{className:"ant-upload-drag-icon",children:(0,I.jsx)(S.Z,{})}),(0,I.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,I.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]})),","]}),(0,I.jsx)(s.Z.Item,{name:"image",hidden:!0,children:(0,I.jsx)(c.Z,{})}),(0,I.jsx)(s.Z.Item,{style:{width:"90%"}}),(0,I.jsx)(s.Z.Item,{className:"button",children:(0,I.jsx)(h.Z,{htmlType:"submit",type:"primary",children:"L\u01b0u l\u1ea1i"})})]})})},F=function(){var e=(0,l.useSelector)((function(e){return e.productReducer})),t=e.productlist,r=e.loadingproduct;console.log(t);d.Z.Option;var g=(0,l.useDispatch)();(0,o.useEffect)((function(){g((0,a.Un)())}),[g,$]);var v=(0,o.useState)(""),C=(0,i.Z)(v,2),S=C[0],b=C[1],_=(0,o.useState)(""),F=(0,i.Z)(_,2),L=F[0],P=F[1],q=(0,o.useState)(!1),D=(0,i.Z)(q,2),N=D[0],O=D[1],T=(0,o.useState)(!1),R=(0,i.Z)(T,2),V=R[0],z=R[1],E=(0,o.useState)(0),H=(0,i.Z)(E,2),$=H[0],K=(H[1],s.Z.useForm()),B=(0,i.Z)(K,1)[0],U=s.Z.useForm(),A=(0,i.Z)(U,1)[0],M=function(e){return{filterDropdown:function(t){var r=t.setSelectedKeys,n=t.selectedKeys,i=t.confirm,o=t.clearFilters;return(0,I.jsxs)("div",{style:{padding:12},children:[(0,I.jsx)(c.Z,{placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return J(n,i,e)},style:{marginBottom:8,display:"block"}}),(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{type:"primary",onClick:function(){return J(n,i,e)},icon:(0,I.jsx)(Z.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,I.jsx)(h.Z,{onClick:function(){return Q(o)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return(0,I.jsx)(Z.Z,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,r){return r[e]?r[e].toString().toLowerCase().includes(t.toLowerCase()):""},render:function(t){return L===e?(0,I.jsx)(x(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[S],autoEscape:!0,textToHighlight:t?t.toString():""}):"store"===e||"category"===e?null===t||void 0===t?void 0:t.name:t}}},J=function(e,t,r){t(),b(e[0]),P(r)},Q=function(e){e(),b("")},W=[(0,n.Z)({title:"Name",dataIndex:"name",key:"name",width:"20%"},M("name")),{title:"Image",dataIndex:"image_url",key:"image_url",width:"20%",render:function(e){return(0,I.jsx)("img",{src:(t=e,null===t?void 0:"http://103.9.159.151:22297"+t[0].url),style:{width:"100%",height:"100%"},alt:""});var t}},(0,n.Z)({title:"Price",dataIndex:"price",key:"price",width:"20%",sorter:function(e,t){return e.price-t.price},sortDirections:["descend","ascend"]},M("price")),(0,n.Z)({title:"Content",dataIndex:"content",key:"content",width:"20%"},M("content")),(0,n.Z)({title:"Description",dataIndex:"des",key:"des",width:"20%"},M("des")),(0,n.Z)({title:"Category",dataIndex:"category",key:"category",width:"20%",sorter:function(e,t){return e.category_id-t.category_id},sortDirections:["descend","ascend"]},M("category")),(0,n.Z)({title:"Store",dataIndex:"store",key:"store",width:"20%",sorter:function(e,t){return e.store-t.store},sortDirections:["descend","ascend"]},M("store")),(0,n.Z)({title:"ParentId",dataIndex:"parent_id",key:"parent_id",width:"20%",sorter:function(e,t){return e.parent_id-t.parent_id},sortDirections:["descend","ascend"]},M("parent_id")),{key:"Action",title:(0,I.jsx)(y.Z,{onClick:function(){return g((0,a.Un)())}}),align:"center",width:"10%",render:function(e,t,r){return(0,I.jsxs)(u.Z,{size:"middle",children:[(0,I.jsx)(j.Z,{style:{color:"blue"},onClick:function(){return X(t)}}),(0,I.jsx)(m.Z,{placement:"bottomRight",title:"B\u1ea1n mu\u1ed1n x\xf3a ".concat(t.name," ?"),onConfirm:function(){return Y(t.id)},okText:"X\xf3a",cancelText:"H\u1ee7y",children:(0,I.jsx)(w.Z,{style:{color:"red"}})})]})}}],X=function(e){var t={id:e.id,name:e.name,price:e.price,des:e.des,content:e.content,store_id:e.store.id,category_id:e.category.id,parent_id:e.parent_id,image:e.image_url};A.setFieldsValue(t),z(!0)},Y=function(e){g((0,a.F6)(e))};return(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:"addecommerce",children:(0,I.jsx)(h.Z,{type:"primary",onClick:function(){return O(!0)},children:"Th\xeam Product"})}),(0,I.jsx)("br",{}),(0,I.jsx)(p.Z,{className:"modal-add",title:"Th\xeam Product",visible:N,footer:"",centered:!0,onCancel:function(){return O(!1)},children:(0,I.jsx)(k,{onFinish:function(e){var t={name:e.name,price:e.price,des:e.des,content:e.content,store_id:e.store_id,category_id:e.category_id,parent_id:e.parent_id,image_url:e.image};g((0,a.Z2)(t)),B.resetFields(),O(!1)},form:B})}),(0,I.jsx)(p.Z,{className:"modal-edit",title:"S\u1eeda Product",visible:V,onCancel:function(){return z(!1)},centered:!0,footer:"",children:(0,I.jsx)(k,{onFinish:function(e){var t={id:e.id,name:e.name,price:e.price,des:e.des,store_id:e.store_id,category_id:e.category_id,parent_id:e.parent_id,image_url:e.image};g((0,a.NQ)(t)),z(!1),B.resetFields(),console.log("edit",e)},form:A,idEdit:!0})}),(0,I.jsx)(f.Z,{scroll:{x:900},pagination:{defaultCurrent:30,defaultPageSize:10,hideOnSinglePage:!0,pageSizeOptions:[10,30,50,100]},loading:r,columns:W,dataSource:t,rowKey:function(e){return e.id},bordered:!0})]})}},6776:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(1413),i=r(2791),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},a=r(4291),l=function(e,t){return i.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:o}))};l.displayName="InboxOutlined";var d=i.forwardRef(l)}}]);
//# sourceMappingURL=667.c388d2f9.chunk.js.map